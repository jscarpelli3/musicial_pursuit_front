{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"game-details\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"headline\"\n}, \"Get your rock brain ready!\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"game-ex\"\n}, [/*#__PURE__*/_createTextVNode(\"RockDog Trivia works in rounds of 3 quetsions.\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"Search an rock or pop artist you think you know, then answer 3 questions about their discography. Each question gets you points. If you answer all 3 correct you will increase your level. \")], -1 /* HOISTED */);\nconst _hoisted_4 = [_hoisted_2, _hoisted_3];\nconst _hoisted_5 = {\n  key: 1,\n  class: \"search\"\n};\nconst _hoisted_6 = [\"value\", \"disabled\"];\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", null, \"Search\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Invaldi Artist Name!\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  key: 2,\n  class: \"cur-artist\"\n};\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = [\"src\"];\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_14 = {\n  key: 3,\n  class: \"round-one-q\"\n};\nconst _hoisted_15 = {\n  key: 4,\n  class: \"round-two-q\"\n};\nconst _hoisted_16 = {\n  key: 5,\n  class: \"round-three-q\"\n};\nconst _hoisted_17 = {\n  key: 6,\n  class: \"round-three-q\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"You leveled up!\", -1 /* HOISTED */);\nconst _hoisted_19 = {\n  key: 7,\n  class: \"round-three-q\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Sorry, wrong answer!\", -1 /* HOISTED */);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"You Lose 50 points!\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Question = _resolveComponent(\"Question\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_ctx.round === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_4)) : _createCommentVNode(\"v-if\", true), !_ctx.searched ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = (...args) => $options.getAlbums && $options.getAlbums(...args))\n  }, [_createElementVNode(\"input\", {\n    placeholder: \"Search Term\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.handleChange && $options.handleChange(...args)),\n    value: _ctx.searchQuery,\n    name: \"search\",\n    type: \"text\",\n    disabled: _ctx.search_fail\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_6), _hoisted_7], 32 /* HYDRATE_EVENTS */), _ctx.search_fail ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleSearchFail && $options.toggleSearchFail(...args))\n  }, \"Click to search again\")])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_ctx.round === 0 ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_11, \"Get ready to answer questions about \" + _toDisplayString(_ctx.searchResults.album[0].strArtist) + \"!\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"img\", {\n    class: \"artist-logo\",\n    src: _ctx.artist_image_src\n  }, null, 8 /* PROPS */, _hoisted_12), _hoisted_13, _ctx.round === 0 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    class: \"go-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.start_round && $options.start_round(...args))\n  }, \"GO!\")) : _createCommentVNode(\"v-if\", true)])), _ctx.round === 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createVNode(_component_Question, {\n    user: $props.user,\n    artistAlbumInfo: _ctx.searchResults,\n    onCorrect: $options.correct,\n    onIncorrect: $options.incorrect,\n    roundNum: _ctx.round,\n    artistStartYr: _ctx.artist_start_yr\n  }, null, 8 /* PROPS */, [\"user\", \"artistAlbumInfo\", \"onCorrect\", \"onIncorrect\", \"roundNum\", \"artistStartYr\"])])) : _createCommentVNode(\"v-if\", true), _ctx.round === 2 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createVNode(_component_Question, {\n    user: $props.user,\n    artistAlbumInfo: _ctx.searchResults,\n    onCorrect: $options.correct,\n    onIncorrect: $options.incorrect,\n    roundNum: _ctx.round,\n    artistStartYr: _ctx.artist_start_yr\n  }, null, 8 /* PROPS */, [\"user\", \"artistAlbumInfo\", \"onCorrect\", \"onIncorrect\", \"roundNum\", \"artistStartYr\"])])) : _createCommentVNode(\"v-if\", true), _ctx.round === 3 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createVNode(_component_Question, {\n    user: $props.user,\n    artistAlbumInfo: _ctx.searchResults,\n    onCorrect: $options.correct,\n    onIncorrect: $options.incorrect,\n    roundNum: _ctx.round,\n    artistStartYr: _ctx.artist_start_yr\n  }, null, 8 /* PROPS */, [\"user\", \"artistAlbumInfo\", \"onCorrect\", \"onIncorrect\", \"roundNum\", \"artistStartYr\"])])) : _createCommentVNode(\"v-if\", true), _ctx.round === 50 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"h3\", null, \"This round you scored \" + _toDisplayString(_ctx.ses_score) + \"!\", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => this.$router.push(`/dashboard`))\n  }, \"Back To You Dashboard\")])) : _createCommentVNode(\"v-if\", true), _ctx.round === 100 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_hoisted_20, _hoisted_21, _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => this.$router.push(`/dashboard`))\n  }, \"Back To You Dashboard\")])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;;EAE4BA,KAAK,EAAC;;gCAC5BC,oBAAoD;EAAhDD,KAAK,EAAC;AAAU,GAAC,4BAA0B;gCAC/CC,oBAE4C;EAFzCD,KAAK,EAAC;AAAS,kCAAC,gDAA8C,oCAAM,kOAE/B;oBAHxCE,UAAoD,EACpDC,UAE4C;;;EAExBH,KAAK,EAAC;;;gCAIxBC,oBAAuB,gBAAf,QAAM;;;;gCAGdA,oBAA6B,YAAzB,sBAAoB;;;EAIhBD,KAAK,EAAC;;;;;;iCAEmCC,oBAAM;;;EAGnCD,KAAK,EAAC;;;;EAINA,KAAK,EAAC;;;;EAINA,KAAK,EAAC;;;;EAILA,KAAK,EAAC;;iCAC7BC,oBAAwB,YAApB,iBAAe;;;EAIKD,KAAK,EAAC;;iCAC9BC,oBAA6B,YAAzB,sBAAoB;iCACxBA,oBAA4B,YAAxB,qBAAmB;;;;uBA1C3BG,oBA6CM,cA5COC,UAAK,wBAAhBD,oBAKM,OALNE,UAKM,qDACMD,aAAQ,kBAApBD,oBAUM,OAVNG,UAUM,GATJN,oBAIO;IAJAO,QAAM,yCAAEC,iDAAS;MACtBR,oBAC4B;IADrBS,WAAW,EAAC,aAAa;IAAEC,QAAM,yCAAEF,uDAAY;IAAGG,KAAK,EAAEP,gBAAW;IAAEQ,IAAI,EAAC,QAAQ;IAACC,IAAI,EAAC,MAAM;IACnGC,QAAQ,EAAEV;wDACbW,UAAuB,6BAEdX,gBAAW,kBAAtBD,oBAGM,oBAFJa,UAA6B,EAC7BhB,oBAAgE;IAAvDiB,OAAK,yCAAET,+DAAgB;KAAE,uBAAqB,6DAG3DL,oBAIM,OAJNe,WAIM,GAHMd,UAAK,wBAAfD,oBAAuG,mBAAhF,sCAAoC,oBAAGC,kBAAa,CAACe,KAAK,IAAIC,SAAS,IAAG,GAAC,sDAClGpB,oBAAmD;IAA9CD,KAAK,EAAC,aAAa;IAAEsB,GAAG,EAAEjB;wCAAoBkB,WAAM,EAC3ClB,UAAK,wBAAnBD,oBAA2E;;IAAhDJ,KAAK,EAAC,QAAQ;IAAEkB,OAAK,yCAAET,qDAAW;KAAE,KAAG,2CAEzDJ,UAAK,wBAAhBD,oBAGM,OAHNoB,WAGM,GAFJC,aACuDC;IAD5CC,IAAI,EAAEC,WAAI;IAAGC,eAAe,EAAExB,kBAAa;IAAGyB,SAAO,EAAErB,gBAAO;IAAGsB,WAAS,EAAEtB,kBAAS;IAC7FuB,QAAQ,EAAE3B,UAAK;IAAG4B,aAAa,EAAE5B;wJAE3BA,UAAK,wBAAhBD,oBAGM,OAHN8B,WAGM,GAFJT,aACuDC;IAD5CC,IAAI,EAAEC,WAAI;IAAGC,eAAe,EAAExB,kBAAa;IAAGyB,SAAO,EAAErB,gBAAO;IAAGsB,WAAS,EAAEtB,kBAAS;IAC7FuB,QAAQ,EAAE3B,UAAK;IAAG4B,aAAa,EAAE5B;wJAE3BA,UAAK,wBAAhBD,oBAGM,OAHN+B,WAGM,GAFJV,aACuDC;IAD5CC,IAAI,EAAEC,WAAI;IAAGC,eAAe,EAAExB,kBAAa;IAAGyB,SAAO,EAAErB,gBAAO;IAAGsB,WAAS,EAAEtB,kBAAS;IAC7FuB,QAAQ,EAAE3B,UAAK;IAAG4B,aAAa,EAAE5B;wJAE3BA,UAAK,yBAAhBD,oBAIM,OAJNgC,WAIM,GAHJC,WAAwB,EACxBpC,oBAA+C,YAA3C,wBAAsB,oBAAGI,cAAS,IAAG,GAAC,iBAC1CJ,oBAA+E;IAAtEiB,OAAK,2CAAOoB,OAAO,CAACC,IAAI;KAAgB,uBAAqB,0CAE7DlC,UAAK,0BAAhBD,oBAIM,OAJNoC,WAIM,GAHJC,WAA6B,EAC7BC,WAA4B,EAC5BzC,oBAA+E;IAAtEiB,OAAK,2CAAOoB,OAAO,CAACC,IAAI;KAAgB,uBAAqB","names":["class","_createElementVNode","_hoisted_2","_hoisted_3","_createElementBlock","_ctx","_hoisted_1","_hoisted_5","onSubmit","$options","placeholder","onChange","value","name","type","disabled","_hoisted_7","_hoisted_9","onClick","_hoisted_10","album","strArtist","src","_hoisted_13","_hoisted_14","_createVNode","_component_Question","user","$props","artistAlbumInfo","onCorrect","onIncorrect","roundNum","artistStartYr","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","$router","push","_hoisted_19","_hoisted_20","_hoisted_21"],"sourceRoot":"","sources":["/Users/jscarpelli/ga_seir919/projects/musical_pursuit/musicial_pursuit_front/musical_pursuit/src/components/GameComponents/GameMain.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"round === 0\" class=\"game-details\">\n      <h1 class=\"headline\">Get your rock brain ready!</h1>\n      <p class=\"game-ex\">RockDog Trivia works in rounds of 3 quetsions.<br />Search an rock or pop artist you think you\n        know, then answer 3 questions about their discography. Each question gets you points. If you answer all 3\n        correct you will increase your level. </p>\n    </div>\n    <div v-if=\"!searched\" class=\"search\">\n      <form @submit=\"getAlbums\">\n        <input placeholder=\"Search Term\" @change=\"handleChange\" :value=\"searchQuery\" name=\"search\" type=\"text\"\n          :disabled=\"search_fail\" />\n        <button>Search</button>\n      </form>\n      <div v-if=\"search_fail\">\n        <h2>Invaldi Artist Name!</h2>\n        <button @click=\"toggleSearchFail\">Click to search again</button>\n      </div>\n    </div>\n    <div v-else class=\"cur-artist\">\n      <h2 v-if=\"round === 0\">Get ready to answer questions about {{ searchResults.album[0].strArtist }}!</h2>\n      <img class=\"artist-logo\" :src=\"artist_image_src\" /><br />\n      <button v-if=\"round === 0\" class=\"go-btn\" @click=\"start_round\">GO!</button>\n    </div>\n    <div v-if=\"round === 1\" class=\"round-one-q\">\n      <Question :user=\"user\" :artistAlbumInfo=\"searchResults\" @correct=\"correct\" @incorrect=\"incorrect\"\n        :roundNum=\"round\" :artistStartYr=\"artist_start_yr\" />\n    </div>\n    <div v-if=\"round === 2\" class=\"round-two-q\">\n      <Question :user=\"user\" :artistAlbumInfo=\"searchResults\" @correct=\"correct\" @incorrect=\"incorrect\"\n        :roundNum=\"round\" :artistStartYr=\"artist_start_yr\" />\n    </div>\n    <div v-if=\"round === 3\" class=\"round-three-q\">\n      <Question :user=\"user\" :artistAlbumInfo=\"searchResults\" @correct=\"correct\" @incorrect=\"incorrect\"\n        :roundNum=\"round\" :artistStartYr=\"artist_start_yr\" />\n    </div>\n    <div v-if=\"round === 50\" class=\"round-three-q\">\n      <h1>You leveled up!</h1>\n      <h3>This round you scored {{ ses_score }}!</h3>\n      <button @click=\"this.$router.push(`/dashboard`)\">Back To You Dashboard</button>\n    </div>\n    <div v-if=\"round === 100\" class=\"round-three-q\">\n      <h1>Sorry, wrong answer!</h1>\n      <h3>You Lose 50 points!</h3>\n      <button @click=\"this.$router.push(`/dashboard`)\">Back To You Dashboard</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nconst API_KEY = process.env.VUE_APP_AUDIODB_KEY\nimport Question from './Question.vue'\nimport Client from '../../services/api'\n\nexport default {\n  name: 'GameMain',\n  components: { Question },\n  props: {\n    user: Object\n  },\n  data: () => ({\n    searchQuery: \"\",\n    artist_image_src: \"\",\n    artist_start_yr: \"\",\n    searchResults: {},\n    searched: false,\n    search_fail: false,\n    round: 0,\n    ses_score: 0,\n    level_up: 0\n  }),\n  mounted() {\n    this.printStats()\n  },\n  methods: {\n    async getAlbums(e) {\n      e.preventDefault();\n      const res = await axios.get(`https://theaudiodb.com/api/v1/json/${API_KEY}/searchalbum.php?s=${this.searchQuery}`);\n      console.log(res.data)\n      if (res === null) {\n        this.search_fail = true\n      } else {\n        this.searchResults = res.data;\n        this.searched = true\n        this.makeImagePath()\n      }\n    },\n    handleChange(event) {\n      this.searchQuery = event.target.value\n    },\n    async makeImagePath() {\n      const res = await axios.get(`https://theaudiodb.com/api/v1/json/${API_KEY}/search.php?s=${this.searchQuery}`);\n      this.artist_start_yr = res.data.artists[0].intFormedYear\n      this.artist_image_src = res.data.artists[0].strArtistLogo\n    },\n    start_round() {\n      if (this.round < 3) {\n        this.round++\n      } else {\n        this.round = 50\n      }\n    },\n    correct(points, lvl) {\n      this.ses_score += points\n      this.level_up += lvl\n      this.submit_scores()\n      this.start_round()\n    },\n    incorrect() {\n      this.ses_score -= 50\n      this.submit_scores()\n      this.round = 100\n    },\n    async submit_scores() {\n      const newTotal = parseInt(this.user.total_score) + this.ses_score\n      const newLvl = parseInt(this.user.current_level) + this.level_up\n      let newAllTime = 3\n      let newSesScore = parseInt(this.user.high_ses_score)\n      if (parseInt(this.user.alltime_level) < newLvl) {\n        console.log(newAllTime)\n        newAllTime = newLvl\n      }\n      if (parseInt(this.user.high_ses_score) < this.ses_score) {\n        console.log(newSesScore)\n        newSesScore = newTotal\n      }\n      const newStats = { current_level: newLvl, total_score: newTotal, alltime_level: newAllTime, high_ses_score: newSesScore }\n      await Client.put(`/user/${this.user.id}`, newStats)\n    },\n    printStats() {\n      console.log(this.user.high_ses_score)\n      console.log(this.user.total_score)\n      console.log(this.user.alltime_level)\n      console.log(this.user.current_level)\n      console.log(this.user.id)\n    },\n    toggleSearchFail() {\n      console.log('search fail toggle')\n      this.search_fail = false\n    }\n  }\n}\n\n</script>\n\n<style>\n.game-details {\n  margin: 2vh 4vw;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.347);\n  border-radius: 10px;\n  background-color: rgba(240, 255, 255, 0.195);\n  padding: 2vw;\n}\n\n.go-btn {\n  width: 60vw;\n  height: 6vh;\n  background-color: rgb(244, 118, 28);\n  text-shadow: 2px 1px 3px;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n}\n\n.artist-logo {\n  width: 90vw;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}